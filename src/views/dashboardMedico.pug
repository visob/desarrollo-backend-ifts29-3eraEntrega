doctype html
html(lang='es')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title= title
    link(rel='stylesheet', href='https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css')
    include partials/layoutStyles.pug
    include partials/headerModule.pug
    style.
      .top-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 16px; margin-top: 22px; }
      .metric-card { background: linear-gradient(135deg, rgba(239,250,255,0.9), rgba(221,238,255,0.9)); padding: 18px; border-radius: 12px; display:flex; align-items:center; justify-content: space-between; border: 1px solid rgba(12,50,80,0.04); }
      .metric-left { display:flex; gap:12px; align-items:center; }
      .metric-icon { width:48px; height:48px; border-radius:10px; display:flex; align-items:center; justify-content:center; background: rgba(11,117,182,0.1); color: #0f4c81; font-size:1.3em; }
      .metric-title { font-size:0.85em; color: #5b7f98; margin:0; }
      .metric-number { font-size:1.6rem; font-weight:700; color: #0f4c81; margin:0; }
      .info-card { background: white; padding: 14px; border-radius: 12px; box-shadow: 0 8px 22px rgba(12,50,80,0.04); }
      ul { list-style: none; padding: 0; margin: 0; }
      li { background: linear-gradient(180deg, #ffffff, #fbfdff); border-radius: 10px; margin-bottom: 10px; padding: 10px 12px; border: 1px solid rgba(10,60,100,0.03); }
  body
    include partials/sidebar.pug
    +sidebar(user)
    .main
      .container
        +pageHeader(user, 'Dashboard Médico', 'Mis turnos programados')
        .top-grid
          .metric-card
            .metric-left
              .metric-icon
                i.fas.fa-calendar-check
              .metric-data
                p.metric-title Mis turnos activos
                p.metric-number= metrics.turnos
        .info-card
          h3
            i.fas.fa-stethoscope
            | Próximos Turnos
          if turnos && turnos.length
            ul
              each t in turnos
                li
                  p
                    i.fas.fa-user
                    |  Paciente: #{t.Paciente}
                  p
                    i.fas.fa-calendar
                    |  Fecha: #{t.FechaStr} · Horario: #{t.HoraInicio} - #{t.HoraFin}
                  p
                    i.fas.fa-notes-medical
                    |  Especialidad: #{t.Especialidad}
          else
            p.page-sub No tiene turnos próximos.